# Camera Configuration System - Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   Alinify Main Window (main_gui.py)                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚  Menu Bar                                             â”‚        â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”         â”‚        â”‚
â”‚   â”‚  â”‚ File â”‚ â”‚Registrationâ”‚ â”‚ Camera â”‚ â”‚ View â”‚ ...     â”‚        â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜         â”‚        â”‚
â”‚   â”‚                               â”‚                        â”‚        â”‚
â”‚   â”‚                               â”œâ”€ Start Camera         â”‚        â”‚
â”‚   â”‚                               â”œâ”€ Stop Camera          â”‚        â”‚
â”‚   â”‚                               â”œâ”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚        â”‚
â”‚   â”‚                               â””â”€ Camera Configuration â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€ USER CLICKS
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                   â”‚                                 â”‚
â”‚                                   â”‚ showCameraConfig()              â”‚
â”‚                                   â–¼                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  Camera Configuration Dialog                            â”‚      â”‚
â”‚   â”‚  (camera_config_dialog.py)                             â”‚      â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
â”‚   â”‚  â”‚ [CameraLink] [Acquisition] [ROI] [Advanced]      â”‚  â”‚      â”‚
â”‚   â”‚  â”‚                                                   â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  TAP CONFIGURATION (CRITICAL)                    â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  â”‚ Taps: [8 - Octal Tap â–¼]           â”‚         â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  â”‚ â˜‘ Force 8-tap on power-on         â”‚         â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚      â”‚
â”‚   â”‚  â”‚                                                   â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  IMAGE FORMAT                                    â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  Format:  [Mono â–¼]                               â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  Bits:    [8 â–¼]                                  â”‚  â”‚      â”‚
â”‚   â”‚  â”‚                                                   â”‚  â”‚      â”‚
â”‚   â”‚  â”‚  [ğŸ” Auto-Detect] [âœ“Apply] [ğŸ’¾Save] [âœ•Cancel]  â”‚  â”‚      â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚
â”‚   â”‚                    â”‚          â”‚         â”‚               â”‚      â”‚
â”‚   â”‚                    â”‚          â”‚         â””â”€ save_config()â”‚      â”‚
â”‚   â”‚                    â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ apply_config()      â”‚
â”‚   â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ auto_detect()         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                   â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONFIGURATION BACKEND                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   Camera Configuration Manager                                     â”‚
â”‚   (camera_config_manager.py)                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚                                                          â”‚      â”‚
â”‚   â”‚  load_config() â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚      â”‚
â”‚   â”‚                       â”‚                                 â”‚      â”‚
â”‚   â”‚  save_config() â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º XML Parser                   â”‚      â”‚
â”‚   â”‚                       â”‚                                 â”‚      â”‚
â”‚   â”‚  check_and_restore_taps() â”€â”€â–º Validation Engine         â”‚      â”‚
â”‚   â”‚                       â”‚                                 â”‚      â”‚
â”‚   â”‚  restore_from_backup() â”€â”€â”€â”€â”€â”€â–º Backup Manager           â”‚      â”‚
â”‚   â”‚                       â”‚                                 â”‚      â”‚
â”‚   â”‚  get_expected_tap_count() â”€â”€â”€â–º Settings Cache           â”‚      â”‚
â”‚   â”‚                       â”‚                                 â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FILE SYSTEM                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   config/camera/                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚                                                          â”‚      â”‚
â”‚   â”‚  FGConfig.gxfg â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Primary Configuration        â”‚      â”‚
â”‚   â”‚  â”‚                          (Gidel XML format)          â”‚      â”‚
â”‚   â”‚  â”‚  <?xml version="1.0"?>                               â”‚      â”‚
â”‚   â”‚  â”‚  <FG>                                                 â”‚      â”‚
â”‚   â”‚  â”‚    <CameraLink>                                       â”‚      â”‚
â”‚   â”‚  â”‚      <Feature Name="NumParallelPixels">8</Feature>   â”‚      â”‚
â”‚   â”‚  â”‚      <Feature Name="Format">Mono</Feature>            â”‚      â”‚
â”‚   â”‚  â”‚    </CameraLink>                                      â”‚      â”‚
â”‚   â”‚  â”‚    <Acquisition>...</Acquisition>                     â”‚      â”‚
â”‚   â”‚  â”‚  </FG>                                                â”‚      â”‚
â”‚   â”‚  â”‚                                                        â”‚      â”‚
â”‚   â”‚  â”œâ”€â”€â–º FGConfig.gxfg.backup â—„â”€â”€â”€ Automatic Backup        â”‚      â”‚
â”‚   â”‚  â”‚                                (Created on save)      â”‚      â”‚
â”‚   â”‚  â”‚                                                        â”‚      â”‚
â”‚   â”‚  â””â”€â”€â–º camera_settings_cache.json â—„â”€ Fast Cache          â”‚      â”‚
â”‚   â”‚         {                                                 â”‚      â”‚
â”‚   â”‚           "last_tap_count": 8,                           â”‚      â”‚
â”‚   â”‚           "last_format": "Mono",                         â”‚      â”‚
â”‚   â”‚           "last_bits": 8                                 â”‚      â”‚
â”‚   â”‚         }                                                 â”‚      â”‚
â”‚   â”‚                                                          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CAMERA HARDWARE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   Gidel CameraLink Frame Grabber                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚                                                          â”‚      â”‚
â”‚   â”‚  alinify_bindings (C++ Python interface)                â”‚      â”‚
â”‚   â”‚  â”‚                                                       â”‚      â”‚
â”‚   â”‚  â”œâ”€ GidelCamera.initialize(config)                      â”‚      â”‚
â”‚   â”‚  â”‚     â”‚                                                 â”‚      â”‚
â”‚   â”‚  â”‚     â””â”€â”€â–º Load FGConfig.gxfg                           â”‚      â”‚
â”‚   â”‚  â”‚          Apply tap configuration                     â”‚      â”‚
â”‚   â”‚  â”‚          Set format, bit depth, zones                â”‚      â”‚
â”‚   â”‚  â”‚                                                       â”‚      â”‚
â”‚   â”‚  â”œâ”€ GidelCamera.start_acquisition()                     â”‚      â”‚
â”‚   â”‚  â”‚     â”‚                                                 â”‚      â”‚
â”‚   â”‚  â”‚     â””â”€â”€â–º Start frame grabber                          â”‚      â”‚
â”‚   â”‚  â”‚          Begin capturing frames                       â”‚      â”‚
â”‚   â”‚  â”‚                                                       â”‚      â”‚
â”‚   â”‚  â””â”€ GidelCamera.set_image_callback(callback)            â”‚      â”‚
â”‚   â”‚        â”‚                                                 â”‚      â”‚
â”‚   â”‚        â””â”€â”€â–º Deliver frames to Python                     â”‚      â”‚
â”‚   â”‚             (4096x18432 strips @ 9.71 FPS)              â”‚      â”‚
â”‚   â”‚                                                          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                         â”‚
â”‚                           â–¼                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  Line Scan Camera (Hardware)                            â”‚      â”‚
â”‚   â”‚  â”œâ”€ 8-tap CameraLink interface                          â”‚      â”‚
â”‚   â”‚  â”œâ”€ 16,384 pixels wide                                  â”‚      â”‚
â”‚   â”‚  â”œâ”€ Accumulates into 1,024-line strips                  â”‚      â”‚
â”‚   â”‚  â””â”€ Delivers via frame grabber                          â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         WORKFLOW                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. USER ACTION                                                  â”‚
â”‚     â€¢ Click: Camera â†’ Camera Configuration...                   â”‚
â”‚                                                                  â”‚
â”‚  2. DIALOG OPENS                                                 â”‚
â”‚     â€¢ Load config from FGConfig.gxfg                            â”‚
â”‚     â€¢ Display current settings                                  â”‚
â”‚     â€¢ Show warnings if taps â‰  8                                 â”‚
â”‚                                                                  â”‚
â”‚  3. USER CHANGES SETTINGS                                        â”‚
â”‚     â€¢ Select 8-tap configuration                                â”‚
â”‚     â€¢ Check "Force 8-tap on power-on"                          â”‚
â”‚     â€¢ Or click "Auto-Detect" for optimal                       â”‚
â”‚                                                                  â”‚
â”‚  4. USER CLICKS APPLY                                            â”‚
â”‚     â€¢ Validate settings                                         â”‚
â”‚     â€¢ Save to FGConfig.gxfg                                     â”‚
â”‚     â€¢ Create .backup file                                       â”‚
â”‚     â€¢ Update cache.json                                         â”‚
â”‚                                                                  â”‚
â”‚  5. CAMERA RESTART (if running)                                  â”‚
â”‚     â€¢ Prompt user: "Restart camera?"                            â”‚
â”‚     â€¢ Stop acquisition                                          â”‚
â”‚     â€¢ Reload config                                             â”‚
â”‚     â€¢ Reinitialize camera                                       â”‚
â”‚     â€¢ Start acquisition                                         â”‚
â”‚                                                                  â”‚
â”‚  6. RESULT                                                       â”‚
â”‚     â€¢ Camera running with 8-tap                                 â”‚
â”‚     â€¢ Configuration persisted                                   â”‚
â”‚     â€¢ Backup available                                          â”‚
â”‚     â€¢ Status logged                                             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   POWER CYCLE SCENARIO                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  PROBLEM: Camera resets taps from 8 to 2 on power off          â”‚
â”‚                                                                  â”‚
â”‚  Before:                    After Power Cycle:                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ Camera ON   â”‚           â”‚ Camera OFF  â”‚                     â”‚
â”‚  â”‚ Taps: 8     â”‚  â”€â”€â”€â”€â”€â”€â–º  â”‚             â”‚                     â”‚
â”‚  â”‚ âœ“ Optimal   â”‚           â”‚             â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚         â”‚                           â”‚                           â”‚
â”‚         â”‚                           â”‚ Power on                 â”‚
â”‚         â”‚                           â–¼                           â”‚
â”‚         â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚         â”‚                   â”‚ Camera ON   â”‚                     â”‚
â”‚         â”‚                   â”‚ Taps: 2     â”‚ â—„â”€ PROBLEM!        â”‚
â”‚         â”‚                   â”‚ âœ— Wrong     â”‚                     â”‚
â”‚         â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚         â”‚                           â”‚                           â”‚
â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  SOLUTION: Use Configuration Dialog                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ 1. Open: Camera â†’ Camera Configuration      â”‚               â”‚
â”‚  â”‚ 2. Set taps to 8                            â”‚               â”‚
â”‚  â”‚ 3. Check "Force 8-tap on power-on"         â”‚               â”‚
â”‚  â”‚ 4. Click Apply                              â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚ Camera ON   â”‚                                               â”‚
â”‚  â”‚ Taps: 8     â”‚ âœ“ FIXED!                                      â”‚
â”‚  â”‚ Config savedâ”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚                                                                  â”‚
â”‚  Future Enhancement:                                            â”‚
â”‚  â€¢ Auto-detect tap change                                       â”‚
â”‚  â€¢ Auto-restore from cache                                      â”‚
â”‚  â€¢ No manual intervention needed                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      LAYER STACK                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [User Interface Layer]                                     â”‚
â”‚   â”œâ”€ main_gui.py (Menu, buttons, status)                   â”‚
â”‚   â””â”€ camera_config_dialog.py (Dialog UI)                   â”‚
â”‚                       â”‚                                     â”‚
â”‚                       â–¼                                     â”‚
â”‚  [Business Logic Layer]                                     â”‚
â”‚   â””â”€ camera_config_manager.py                              â”‚
â”‚       â”œâ”€ XML parsing                                        â”‚
â”‚       â”œâ”€ Validation                                         â”‚
â”‚       â”œâ”€ Cache management                                   â”‚
â”‚       â””â”€ Backup creation                                    â”‚
â”‚                       â”‚                                     â”‚
â”‚                       â–¼                                     â”‚
â”‚  [Storage Layer]                                            â”‚
â”‚   â”œâ”€ FGConfig.gxfg (Primary config)                        â”‚
â”‚   â”œâ”€ FGConfig.gxfg.backup (Safety backup)                  â”‚
â”‚   â””â”€ camera_settings_cache.json (Fast restore)             â”‚
â”‚                       â”‚                                     â”‚
â”‚                       â–¼                                     â”‚
â”‚  [Hardware Interface Layer]                                 â”‚
â”‚   â”œâ”€ alinify_bindings (C++ Python bridge)                  â”‚
â”‚   â””â”€ GidelCamera (C++ class)                               â”‚
â”‚                       â”‚                                     â”‚
â”‚                       â–¼                                     â”‚
â”‚  [Hardware Layer]                                           â”‚
â”‚   â”œâ”€ Gidel Frame Grabber                                    â”‚
â”‚   â””â”€ Line Scan Camera                                       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    READ CONFIGURATION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  User opens dialog                                           â”‚
â”‚       â”‚                                                      â”‚
â”‚       â”œâ”€â–º CameraConfigDialog.load_config()                  â”‚
â”‚       â”‚       â”‚                                              â”‚
â”‚       â”‚       â”œâ”€â–º CameraConfigManager.load_config()         â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â”œâ”€â–º Parse FGConfig.gxfg (XML)         â”‚
â”‚       â”‚       â”‚       â”‚     - Read NumParallelPixels        â”‚
â”‚       â”‚       â”‚       â”‚     - Read Format                    â”‚
â”‚       â”‚       â”‚       â”‚     - Read BitsPerColor             â”‚
â”‚       â”‚       â”‚       â”‚     - ...all settings               â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â”œâ”€â–º Validate settings                 â”‚
â”‚       â”‚       â”‚       â”‚     - Check critical values         â”‚
â”‚       â”‚       â”‚       â”‚     - Warn if non-optimal           â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â””â”€â–º Return config dict                â”‚
â”‚       â”‚       â”‚                                              â”‚
â”‚       â”‚       â””â”€â–º Populate dialog fields                     â”‚
â”‚       â”‚             - Set tap combo box                      â”‚
â”‚       â”‚             - Set format combo                       â”‚
â”‚       â”‚             - Set all controls                       â”‚
â”‚       â”‚                                                      â”‚
â”‚       â””â”€â–º Display to user                                    â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SAVE CONFIGURATION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  User clicks Apply                                           â”‚
â”‚       â”‚                                                      â”‚
â”‚       â”œâ”€â–º CameraConfigDialog.apply_config()                 â”‚
â”‚       â”‚       â”‚                                              â”‚
â”‚       â”‚       â”œâ”€â–º Build config dict from UI                 â”‚
â”‚       â”‚       â”‚     {                                        â”‚
â”‚       â”‚       â”‚       'num_parallel_pixels': 8,             â”‚
â”‚       â”‚       â”‚       'format': 'Mono',                     â”‚
â”‚       â”‚       â”‚       'bits_per_color': 8,                  â”‚
â”‚       â”‚       â”‚       ...                                    â”‚
â”‚       â”‚       â”‚     }                                        â”‚
â”‚       â”‚       â”‚                                              â”‚
â”‚       â”‚       â”œâ”€â–º CameraConfigManager.save_config(dict)     â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â”œâ”€â–º Backup existing config            â”‚
â”‚       â”‚       â”‚       â”‚     FGConfig.gxfg â†’ .gxfg.backup    â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â”œâ”€â–º Build XML structure               â”‚
â”‚       â”‚       â”‚       â”‚     <FG>                             â”‚
â”‚       â”‚       â”‚       â”‚       <CameraLink>                   â”‚
â”‚       â”‚       â”‚       â”‚         <Feature ...>8</Feature>    â”‚
â”‚       â”‚       â”‚       â”‚       </CameraLink>                  â”‚
â”‚       â”‚       â”‚       â”‚     </FG>                            â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â”œâ”€â–º Write to FGConfig.gxfg            â”‚
â”‚       â”‚       â”‚       â”‚                                      â”‚
â”‚       â”‚       â”‚       â””â”€â–º Update cache.json                 â”‚
â”‚       â”‚       â”‚             {                                â”‚
â”‚       â”‚       â”‚               "last_tap_count": 8,          â”‚
â”‚       â”‚       â”‚               ...                            â”‚
â”‚       â”‚       â”‚             }                                â”‚
â”‚       â”‚       â”‚                                              â”‚
â”‚       â”‚       â”œâ”€â–º Emit config_changed signal                â”‚
â”‚       â”‚       â”‚                                              â”‚
â”‚       â”‚       â””â”€â–º If camera running:                        â”‚
â”‚       â”‚             - Prompt restart                         â”‚
â”‚       â”‚             - Stop acquisition                       â”‚
â”‚       â”‚             - Reinitialize                           â”‚
â”‚       â”‚             - Start acquisition                      â”‚
â”‚       â”‚                                                      â”‚
â”‚       â””â”€â–º Show status message                                â”‚
â”‚             "Camera configuration updated"                   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Format Details

### FGConfig.gxfg Structure

```xml
<?xml version="1.0"?>
<FG>
    <!-- Region of Interest -->
    <ROI>
        <Feature Name="Width">0</Feature>
        <Feature Name="Height">0</Feature>
        <Feature Name="OffsetX">0</Feature>
        <Feature Name="OffsetY">0</Feature>
        ...
    </ROI>
    
    <!-- CameraLink Settings (CRITICAL) -->
    <CameraLink>
        <Feature Name="NumParallelPixels">8</Feature>  â—„â”€â”€â”€ TAP CONFIG
        <Feature Name="NumZones">1</Feature>
        <Feature Name="ZonesDirection">0</Feature>
        <Feature Name="IgnoreFVALMode">false</Feature>
        <Feature Name="IgnoreDVALMode">false</Feature>
        <Feature Name="BitsPerColor">8</Feature>
        <Feature Name="Format">Mono</Feature>          â—„â”€â”€â”€ IMAGE FORMAT
        <Feature Name="SubFormat">1</Feature>
    </CameraLink>
    
    <!-- Acquisition Settings -->
    <Acquisition>
        <Feature Name="SleepMs">0</Feature>
        <Feature Name="AcqFramesCnt">0</Feature>
        <Feature Name="ReverseYMode">false</Feature>
        <Feature Name="ExternalSource">false</Feature>
        <Feature Name="RoiListMode">false</Feature>
        <Feature Name="RoiListPath"></Feature>
        <Feature Name="GrabMode">LatestFrame</Feature> â—„â”€â”€â”€ GRAB MODE
        <Feature Name="FG_ID">0</Feature>
    </Acquisition>
    
    <!-- Output Options -->
    <Options>
        <Feature Name="Output32RGB10p">false</Feature>
    </Options>
    
    <!-- Logging -->
    <Log>
        <Feature Name="LogVerbosity">0</Feature>
        <Feature Name="LogSizeMB">5</Feature>
    </Log>
</FG>
```

---

**Complete system architecture for camera configuration management** âœ…
